<!--
  Generated template for the NovalistaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ title }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
    <form [formGroup]="formNovaLista">

      <ion-item>
        <ion-label stacked>Nome</ion-label>
        <ion-input type="text" formControlName="nome"></ion-input>
      </ion-item>
      <ion-item *ngIf="!formNovaLista.controls.nome.valid && (formNovaLista.controls.nome.dirty || formNovaLista.controls.nome.touched)" color="danger">
        <div [hidden]="!formNovaLista.controls.nome.errors.required">
          O campo é obrigatório
        </div>
      </ion-item>
  
      <div padding>
        <button ion-button block type="submit" [disabled]="!formNovaLista.valid" (click)="salvarLista()" style="text-transform: none;">Salvar</button>
      </div>

      <div *ngIf="listaAtual != null">
        <ion-list>
          <ion-item>
              <ion-grid>
                <ion-row>
                  <ion-col col-1>
                    <p style="text-align: center; font-size: 100%; color: black;">Qnt.</p>
                  </ion-col>
                  <ion-col col-8>
                    <p style="text-align: center; font-size: 100%; color: black;">Produto</p>
                  </ion-col>
                  <ion-col col-3>
                    <p style="text-align: center; font-size: 100%; color: black;">Preço</p>
                  </ion-col>
                </ion-row>
              </ion-grid>
          </ion-item>
          <ion-item-sliding *ngFor="let produto of arrayQnts; let i = index">
            <ion-item style="text-align: center">
                <ion-grid>
                  <ion-row>
                    <ion-col col-1>
                      <p>{{ produto }}</p>
                    </ion-col>
                    <ion-col col-8>
                      <p style="white-space: nowrap;
                      overflow: hidden;
                      text-overflow: ellipsis;
                      max-width: 200px;">{{ arrayDescs[i] }}</p>
                    </ion-col>
                    <ion-col col-3>
                        <p>{{ arrayPrecosString[i] }}</p>
                    </ion-col>
                  </ion-row>
                </ion-grid>
            </ion-item>

            <ion-item-options side="left">
              <button ion-button color="danger" style="width: 10%" (click)="removerProduto(i)">
                <ion-icon name="trash"></ion-icon>
              </button>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>


      </div>
  
  
    </form>
</ion-content>
